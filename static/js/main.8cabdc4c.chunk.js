(this["webpackJsonpreact-els"]=this["webpackJsonpreact-els"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(3),o=a.n(i),l=(a(9),a(10),a(1)),r="https://involve.software/test_front/api",s=c.a.createElement("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M5 6L0 0L10 9.08524e-07L5 6Z",fill:"#3A3A3A"})),u=c.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M7.27454 0.16759L8.06904 3.17481C8.67763 3.07954 9.29768 3.07954 9.90627 3.17481L10.7131 0.16759C9.57355 -0.0558632 8.40169 -0.0558632 7.2621 0.16759C7.26213 0.16759 7.27454 0.16759 7.27454 0.16759Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.9",d:"M11.1165 3.49758C11.6925 3.72104 12.2288 4.0354 12.7054 4.42862L14.8965 2.21277C14.0232 1.44868 13.009 0.862451 11.911 0.487265L11.1165 3.49758Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.8",d:"M13.5838 5.29449C13.977 5.77117 14.2913 6.30744 14.5148 6.88344L17.5251 6.07654C17.1447 4.98195 16.5544 3.97209 15.7872 3.10345L13.5838 5.29449Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.7",d:"M14.8966 8.99998C14.8972 9.31157 14.8733 9.62316 14.8252 9.93103L17.8324 10.7379C18.0559 9.59834 18.0559 8.42648 17.8324 7.28689L14.8252 8.06898C14.8733 8.37712 14.8972 8.68839 14.8966 8.99998Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.6",d:"M13.5837 12.7055L15.7872 14.8966C16.5513 14.0232 17.1375 13.0091 17.5127 11.9111L14.5023 11.1041C14.2839 11.6835 13.9736 12.2245 13.5837 12.7055Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.5",d:"M11.1165 14.5024L11.9234 17.5127C13.017 17.136 14.0269 16.5497 14.8965 15.7872L12.693 13.5838C12.2194 13.9714 11.6872 14.2814 11.1165 14.5024Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.4",d:"M7.27455 17.8324C8.41414 18.0558 9.586 18.0558 10.7256 17.8324L9.93109 14.8251C9.3225 14.9204 8.70245 14.9204 8.09386 14.8251L7.27455 17.8324Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.3",d:"M3.10359 15.7872C3.97691 16.5513 4.99109 17.1376 6.08909 17.5127L6.896 14.5024C6.32 14.2789 5.78372 13.9646 5.30704 13.5713L3.10359 15.7872Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.2",d:"M0.487066 11.9234C0.863835 13.0171 1.45006 14.0269 2.21257 14.8965L4.41602 12.6931C4.02279 12.2164 3.70843 11.6801 3.48497 11.1041L0.487066 11.9234Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.1",d:"M2.6226e-06 8.99998C-0.00122786 9.57939 0.0549161 10.1573 0.167591 10.7255L3.1748 9.93099C3.07953 9.3224 3.07953 8.70235 3.1748 8.09376L0.167591 7.28686C0.0558655 7.85111 -0.000313759 8.42493 2.6226e-06 8.99998Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.1",d:"M0.487072 6.07653L3.49743 6.88344C3.72088 6.30744 4.03524 5.77117 4.42847 5.29448L2.22502 3.09103C1.45661 3.9634 0.86602 4.97762 0.487072 6.07653Z",fill:"#3E7E7C"}),c.a.createElement("path",{opacity:"0.1",d:"M3.10359 2.21277L5.30704 4.41622C5.78372 4.02299 6.32 3.70863 6.896 3.48518L6.08909 0.474821C4.99018 0.854086 3.97596 1.44436 3.10359 2.21277Z",fill:"#3E7E7C"})),d=c.a.createElement("svg",{width:"84",height:"92",viewBox:"0 0 84 92",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M39.6544 90.7058C41.0019 91.4254 42.6931 91.4208 44.0406 90.7013C80.7623 70.9746 83.3702 32.4333 83.3381 21.4746C83.3346 20.5938 83.0743 19.7332 82.5891 18.9981C82.104 18.2629 81.4149 17.6853 80.6064 17.3358L43.7106 0.991668C43.1234 0.732845 42.4887 0.599556 41.847 0.600345C41.2053 0.601135 40.5709 0.735985 39.9844 0.996251L3.34518 17.3404C2.54858 17.6901 1.86929 18.2613 1.38822 18.9862C0.90716 19.711 0.644609 20.5589 0.631848 21.4288C0.476015 32.3325 2.67143 70.9563 39.6544 90.7058ZM26.7568 38.1763L37.2664 48.6858L56.9427 29.0096L63.4235 35.4904L37.2664 61.6475L20.276 44.6571L26.7568 38.1763Z",fill:"#58B4AE"}));a(11);function m(e){var t=e.items,a=e.activeItem,i=e.onItemClick,o=Object(n.useMemo)((function(){return t.filter((function(e){return e.id!==a.id}))}),[t,a.id]),r=Object(n.useMemo)((function(){return a&&a.id?a.name:"Select currency"}),[a]),u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],h=d[1];return c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{className:"dropdown__button ".concat(m?"dropdown__button_active":""),onClick:function(){h(!m)}},c.a.createElement("span",null,r)," ",s),m&&c.a.createElement("div",{className:"dropdown__items-block"},o.map((function(e){return c.a.createElement("button",{key:e.id,className:"dropdown__item",onClick:function(){i(e),h(!1)}},e.name)}))))}m.defaultProps={items:[],activeItem:{},onItemClick:function(){}};var h=m;a(12);function v(e){var t=e.items,a=e.activeMethod,n=e.onItemClick,i=e.title,o=e.onInputChange,l=e.inputValue,r=e.isLoad,s=e.inputName;return c.a.createElement("div",{className:"sellbuy-item"},c.a.createElement("h3",{className:"exchange__title sellbuy-item__title"},i),c.a.createElement(h,{items:t,activeItem:a,onItemClick:n}),c.a.createElement("div",{className:"sellbuy-item__input-block"},c.a.createElement("input",{type:"number",name:s,className:"sellbuy-item__money-input",placeholder:"00.00",onChange:o,value:l}),r&&c.a.createElement("span",{className:"currency-exchange__loader-wrapper"},u)))}v.defaultProps={title:"",inputName:"",inputValue:"",isLoad:!1,activeMethod:{},items:[],onInputChange:function(){},onItemClick:function(){}};var p=v;a(13);function f(e){var t=e.activeInvoiceMethod,a=e.activeWithdrawMethod,i=e.invoiceValue,o=e.withdrawValue,s=e.setActiveInvoiceMethod,d=e.setActiveWithdrawMethod,m=e.setInvoiceValue,h=e.setWithdrawValue,v=e.setActivePage,f=Object(n.useState)({invoice:[],withdraw:[]}),E=Object(l.a)(f,2),w=E[0],b=E[1];Object(n.useEffect)((function(){fetch("".concat(r,"/payMethods"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return b(e),e}))}),[]);var C=Object(n.useState)(!1),_=Object(l.a)(C,2),g=_[0],y=_[1],M=Object(n.useState)(!1),L=Object(l.a)(M,2),N=L[0],j=L[1],O=Object(n.useState)({}),k=Object(l.a)(O,2),I=k[0],x=k[1],V=function(e){var t=e.target,a=t.value,n=t.name;"invoice"===n?m(a):"withdraw"===n&&h(a)},S=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}({activeInvoiceMethodId:t.id,activeWithdrawMethodId:a.id,invoiceValue:i,withdrawValue:o});Object(n.useEffect)((function(){if(S&&t.id&&a.id&&(i||o)){var e="invoice";if(i||(e="withdraw"),o!==S.withdrawValue){if(!o)return void m("");if("invoice"===I.type&&o===I.value)return;e="withdraw"}else if(i!==S.invoiceValue){if(!i)return void h("");if("withdraw"===I.type&&i===I.value)return}var n="invoice"===e?j:y,c="invoice"===e?h:m,l={base:e,amount:"invoice"===e?+i:+o,invoicePayMethod:t.id,withdrawPayMethod:a.id},s=new URL("".concat(r,"/payMethods/calculate"));s.search=new URLSearchParams(l).toString(),n(!0);var u=new AbortController;return fetch(s,{method:"GET",signal:u.signal,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.amount;n(!1),x({type:e,value:a}),c(a)})).catch((function(e){console.log(e)})),function(){n(!1),u.abort()}}}),[t.id,a.id,i,o]);var A=[{inputName:"invoice",items:w.invoice,activeMethod:t,onItemClick:function(e){if(e.id===a.id)return d(t),void s(e);s(e)},title:"Sell",inputValue:i,isLoad:g},{inputName:"withdraw",items:w.withdraw,activeMethod:a,onItemClick:function(e){if(e.id===t.id)return s(a),void d(e);d(e)},title:"Buy",inputValue:o,isLoad:N}],P=Object(n.useMemo)((function(){return!(w.invoice.length||w.withdraw.length)}),[w]);return c.a.createElement("div",{className:"exchange__block currency-exchange"},P&&c.a.createElement("div",{className:"currency-exchange__opacity-block"}),c.a.createElement("div",{className:"currency-exchange__sellbuy-wrapper"},A.map((function(e){return c.a.createElement(p,Object.assign({key:e.inputName},e,{onInputChange:V}))}))),c.a.createElement("div",{className:"currency-exchange__button-block"},c.a.createElement("button",{onClick:function(){t.id&&a.id&&(i||o)&&v(2)},className:"exchange__main-button"},P?c.a.createElement("span",{className:"exchange__loader-animation"},u):"Exchange")))}f.defaultProps={activeInvoiceMethod:{},activeWithdrawMethod:{},invoiceValue:"",withdrawValue:"",setActiveInvoiceMethod:function(){},setActiveWithdrawMethod:function(){},setInvoiceValue:function(){},setWithdrawValue:function(){},setActivePage:function(){}};var E=f,w=(a(14),a(15),function(e){if(!(""+e).includes("."))return"".concat(e,".00");var t=(""+e).split("."),a=Object(l.a)(t,2),n=a[0],c=a[1];return"".concat(n,".").concat((c+"00").slice(0,2))});function b(e){var t=e.activeInvoiceMethod,a=e.activeWithdrawMethod,i=e.invoiceValue,o=e.withdrawValue,s=e.resetData,d=e.setActivePage,m=Object(n.useState)(!1),h=Object(l.a)(m,2),v=h[0],p=h[1],f=[{title:"Sell",description:"".concat(w(i)," ").concat(t.name||"")},{title:"Buy",description:"".concat(w(o)," ").concat(a.name||"")}];return c.a.createElement("div",{className:"exchange__block details-page"},v&&c.a.createElement("div",{className:"currency-exchange__opacity-block"}),c.a.createElement("h3",{className:"exchange__title details-page__title"},"Details"),c.a.createElement("div",{className:"details-page__info-block"},f.map((function(e){var t=e.title,a=e.description;return c.a.createElement("div",{key:t,className:"details-page__info-item"},c.a.createElement("p",{className:"details-page__info-title"},t),c.a.createElement("p",{className:"details-page__info-description"},a))}))),c.a.createElement("div",{className:"details-page__buttons-block"},c.a.createElement("button",{onClick:function(){d(1)},className:"exchange__second-button details-page__button"},"Cencel"),c.a.createElement("button",{onClick:function(){p(!0),fetch("".concat(r,"/bids"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:i,base:"invoice",invoicePayMethod:t.id,withdrawPayMethod:a.id})}).then((function(e){return e.json()})).then((function(e){var t=e.message;p(!1),"Success"===t&&(d(3),s())})).catch((function(e){p(!1)}))},className:"exchange__main-button details-page__button"},v?c.a.createElement("span",{className:"exchange__loader-animation"},u):"Confirm")))}b.defaultProps={activeInvoiceMethodName:"",activeWithdrawMethodName:"",invoiceValue:"",withdrawValue:"",resetData:function(){},setActivePage:function(){}};var C=b;a(16);var _=function(e){var t=e.setActivePage;return c.a.createElement("div",{className:"exchange__block success-page"},c.a.createElement("div",{className:"success-page__img-block"},d),c.a.createElement("h3",{className:"success-page__title"},"Success!"),c.a.createElement("p",{className:"success-page__description"},"Your exchange order has been placed successfully and will be processed soon."),c.a.createElement("button",{onClick:function(){t(1)},className:"exchange__main-button"},"Home"))},g=function(){var e=Object(n.useState)(1),t=Object(l.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)({}),r=Object(l.a)(o,2),s=r[0],u=r[1],d=Object(n.useState)({}),m=Object(l.a)(d,2),h=m[0],v=m[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),w=f[0],b=f[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),M=y[0],L=y[1],N=Object(n.useCallback)((function(){u({}),v({}),b(""),L("")}),[]);return c.a.createElement("div",{className:"exchange"},1===a&&c.a.createElement(E,{activeInvoiceMethod:s,activeWithdrawMethod:h,invoiceValue:w,withdrawValue:M,setActiveInvoiceMethod:u,setActiveWithdrawMethod:v,setInvoiceValue:b,setWithdrawValue:L,setActivePage:i}),2===a&&c.a.createElement(C,{activeInvoiceMethod:s,activeWithdrawMethod:h,invoiceValue:w,withdrawValue:M,resetData:N,setActivePage:i}),3===a&&c.a.createElement(_,{setActivePage:i}))};o.a.render(c.a.createElement(g,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.8cabdc4c.chunk.js.map